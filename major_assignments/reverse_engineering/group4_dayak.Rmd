---
title: "Reverse Engineering Project"
author: "Shifra Dayak, Benjamin Ferraro, Tim Williams"
date: "3/4/24"
output:
  html_document:
    theme: cerulean
    highlight: pygments
    toc: true
    toc_float:
      collapsed: true
      smooth_scroll: false
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Introduction 

In this notebook, we are reverse engineering the story, [Her Baby Died After Hurricane Katrina. Was It a Crime?](https://www.themarshallproject.org/2021/12/16/her-baby-died-after-hurricane-katrina)

## Load libraries

Loading required libraries for this analysis.

```{r echo=FALSE, message=FALSE}
# Turn off scientific notation
options(scipen=999)
library(tidyverse)
library(lubridate)
library(janitor)

```

## Load and Cleaning Data

In this section, describe the source of the data, write a basic data dictionary for data you are working with, and discuss any caveats or issues you discovered working with this data. 

```{r}
# Load required data
louisiana_parole <- read_csv("data/lousiana_life_without_parole_sept_2021.csv") |>

# Path to data should be loaded from folder "data" i.e. read_csv("data/name_of_data.csv")

# Clean required data and prepare for analysis if needed. 
clean_names()


```

## Sentences to Engineer
In this notebook, we are reverse engineering five sentences from the story.

### Sentence 1

* **Sentence text**: Nearly 4,200 men and women are serving lifetime sentences in the state, for crimes that range from homicide and rape to rarer cases of repeat purse snatchings and child neglect, an investigation by The Marshall Project and The Times-Picayune | The Advocate found.
* **Analysis summary**: Since the csv data already was entirely made up of items representing peole serving lifetime sentences, we didn't need to do any manipulation there. It listed the same prisoners multiple times in some cases, since some of them were imprisoned on multiple charges, so we wanted to just find the unique number of people, which we did by grouping the data by their identification numbers and then seeing how many rows resulted. We were able to confirm the finding — there were 4,177 resulting rows, which lines up with the "nearly 4,200" people cited by the Marshall Project.

```{r}
# Put code to reverse engineer sentence here
deduped_louisiana_parole <- louisiana_parole |>
group_by(doc_number) |>
  summarise(
    number_of_counts = n()
  )

# Display results of code below this codeblock

deduped_louisiana_parole

```

### Sentence 2

* **Sentence text**: More than half of the people serving life in Louisiana were convicted of second-degree murder, our investigation found.
* **Analysis summary**: I first filtered so only second degree murder charges were displayed. Then, I wanted to count the number of people who had been charged, rather than the number of individual charges (since some people were convicted of more than one second-degree murder charge), so I grouped the dataset by the doc_id column.

```{r}
# Put code to reverse engineer sentence here
life_charges <- louisiana_parole |>
  filter(str_detect(offenses,"SECOND DEGREE MURDER")) |>
  group_by(doc_number) |>
  summarise (
    second_degree_murder_number = n()
  )

# Display results of code below this codeblock
life_charges
```

### Sentence 3

* **Sentence text**: Over three-quarters of the 124 women serving life [were convicted of second-degree murder].
* **Analysis summary**: By filtering out just female inmates and grouping by their DOC number to get rid of any duplicates due to multiple charges, the first few lines of code confirm that 124 women in Louisiana are serving life. The second set of lines of code filters out women serving sentences for second degree murder, and then again groups them by the DOC number to get rid of duplicate people in the dataset. By counting how many people fit these criteria, we can see that 96 women — which is more than three-quarters of 124 — are serving life for second degree murder convictions.

```{r}
# Put code to reverse engineer sentence here
louisiana_parole |>
  filter(gender == "F") |>
  group_by (doc_number)|>
  summarise (
    women_serving_life = n()
  )

louisiana_parole |>
  filter(gender == "F" & offenses == "SECOND DEGREE MURDER") |>
  group_by(doc_number) |>
  summarise (
    women_serving_life_second_degree = n()
  )

# Display results of code below this codeblock

```

### Sentence 4

* **Sentence text**: [Paste in sentence to engineer here]
* **Analysis summary**: [Write up two to three sentences describing the results of your analysis.  Were you able to confirm the finding? If not, why not?]

```{r}
# Put code to reverse engineer sentence here

# Display results of code below this codeblock

```

### Sentence 5

* **Sentence text**: [Paste in sentence to engineer here]
* **Analysis summary**: [Write up two to three sentences describing the results of your analysis.  Were you able to confirm the finding? If not, why not?]

```{r}
# Put code to reverse engineer sentence here

# Display results of code below this codeblock

```

-30-